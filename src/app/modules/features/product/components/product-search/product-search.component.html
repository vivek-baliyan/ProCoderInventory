<!-- main body area -->
<div class="main px-lg-4 px-md-4">
  <!-- Body: Body -->
  <div class="body d-flex py-3">
    <div class="container-xxl">
      <div class="row align-items-center">
        <div class="border-0 mb-4">
          <div
            class="card-header py-3 no-bg bg-transparent d-flex align-items-center px-0 justify-content-between border-bottom flex-wrap"
          >
            <h3 class="fw-bold mb-0">Products</h3>
            <div class="btn-group group-link btn-set-task w-sm-100">
              <a
                class="btn d-inline-flex align-items-center"
                [class.active]="showGridView"
                (click)="showGridView = true"
                ><i class="icofont-wall px-2 fs-5"></i>Grid View</a
              >
              <a
                class="btn d-inline-flex align-items-center"
                [class.active]="!showGridView"
                (click)="showGridView = false"
                ><i class="icofont-listing-box px-2 fs-5"></i> List View</a
              >
            </div>
          </div>
        </div>
      </div>
    <div class="row g-3 mb-3">
      <div class="col-md-12 col-lg-4 col-xl-4 col-xxl-3">
        <div class="sticky-lg-top">
          <div class="card mb-3">
            <div
              class="card-header py-3 d-flex justify-content-between align-items-center bg-transparent border-bottom-0"
            >
              <h6 class="m-0 fw-bold">Filter</h6>
              <button class="btn btn-primary btn-sm" (click)="resetFilters()">Reset</button>
            </div>
          </div>
          
          <!-- Search Filter -->
          <div class="card mb-3">
            <div
              class="card-header py-3 d-flex justify-content-between bg-transparent border-bottom-0"
            >
              <h6 class="mb-0 fw-bold">Search Products</h6>
            </div>
            <div class="card-body">
              <div class="row g-3">
                <div class="col-md-12">
                  <input
                    type="text"
                    placeholder="Search by name or SKU"
                    class="form-control"
                    [(ngModel)]="searchTerm"
                    (input)="onSearchChange()"
                    name="searchTerm"
                  />
                </div>
              </div>
            </div>
          </div>

          <!-- Price Range Filter -->
          <div class="card mb-3">
            <div
              class="card-header py-3 d-flex justify-content-between bg-transparent border-bottom-0"
            >
              <h6 class="mb-0 fw-bold">Pricing Range</h6>
            </div>
            <div class="card-body">
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Minimum Price</label>
                  <input 
                    type="number" 
                    class="form-control" 
                    [(ngModel)]="selectedPriceRange.min"
                    (ngModelChange)="onPriceRangeChange()"
                    name="minPrice" 
                    placeholder="0" />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Maximum Price</label>
                  <input 
                    type="number" 
                    class="form-control" 
                    [(ngModel)]="selectedPriceRange.max"
                    (ngModelChange)="onPriceRangeChange()"
                    name="maxPrice" 
                    placeholder="0" />
                </div>
              </div>
            </div>
          </div>

          <!-- Status Filter -->
          <div class="card mb-3">
            <div
              class="card-header py-3 d-flex justify-content-between bg-transparent border-bottom-0"
            >
              <h6 class="mb-0 fw-bold">Product Status</h6>
            </div>
            <div class="card-body">
              <div class="row g-3">
                <div class="col-md-12">
                  <label class="form-label">Status</label>
                  <select 
                    class="form-select" 
                    [(ngModel)]="selectedStatus"
                    (ngModelChange)="onStatusChange()"
                    name="status">
                    <option [value]="null">All Statuses</option>
                    <option [value]="1">Draft</option>
                    <option [value]="2">Active</option>
                    <option [value]="3">Inactive</option>
                    <option [value]="4">Discontinued</option>
                    <option [value]="5">Out of Stock</option>
                  </select>
                </div>
                <div class="col-md-12">
                  <label class="form-label">Active Status</label>
                  <select 
                    class="form-select" 
                    [(ngModel)]="selectedActiveStatus"
                    (ngModelChange)="onActiveStatusChange()"
                    name="activeStatus">
                    <option [value]="null">All</option>
                    <option [value]="true">Active</option>
                    <option [value]="false">Inactive</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12 col-lg-8 col-xl-8 col-xxl-9">
        @if(showGridView){
        <app-product-grid [products]="products"></app-product-grid>
        } @else {
        <app-product-list [products]="products"></app-product-list>
        }
      </div>
      </div>
    </div>
  </div>
</div>